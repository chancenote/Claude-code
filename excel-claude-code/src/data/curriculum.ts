import type { CurriculumDay } from '@/types/curriculum';

export const curriculum: CurriculumDay[] = [
  {
    day: 1, week: 1, phase: 'Foundation',
    title: 'Claude Code 소개 & 환경 설정',
    objective: 'Claude Code 설치부터 API Key 설정까지 완벽한 개발 환경 구축',
    category: 'Setup', hours: '5h', difficulty: 1,
    topics: ['Claude Code 개념과 아키텍처', 'Node.js, npm 설치 및 설정', 'CLI 설치 (npm install -g @anthropic/claude-code)', 'API Key 발급 및 환경변수 설정', '터미널/셸 기초'],
    practice: ['Claude Code 설치 후 "claude" 명령어로 실행 확인', '간단한 프로젝트 폴더 생성', '"Hello World" 대화 시작', '/help 명령어로 사용 가능한 기능 탐색'],
  },
  {
    day: 2, week: 1, phase: 'Foundation',
    title: '기본 인터페이스 & 명령어 체계',
    objective: '슬래시 명령어, 단축키, Permission 모드 완전 정복',
    category: 'Basics', hours: '5h', difficulty: 1,
    topics: ['슬래시 명령어 전체 정리', '키보드 단축키 마스터', '대화 컨텍스트 관리', '세션 관리와 비용 모니터링', 'Permission 모드 이해'],
    practice: ['모든 슬래시 명령어 실행해보기', '단축키로 작업 속도 높이기', '/cost로 비용 확인', 'Permission 모드 전환 실습'],
  },
  {
    day: 3, week: 1, phase: 'Foundation',
    title: '파일 시스템 탐색 & 코드 읽기',
    objective: '프로젝트 구조 파악과 코드 분석 프롬프트 작성',
    category: 'Navigation', hours: '5h', difficulty: 2,
    topics: ['프로젝트 구조 파악 요청', '코드 읽기 및 분석 프롬프트', '파일 검색과 내용 탐색', '의존성 및 import 구조 파악'],
    practice: ['오픈소스 프로젝트 클론 후 구조 분석', '특정 함수 찾기 프롬프트 작성', 'package.json 분석 요청', '코드 리뷰 프롬프트 작성'],
  },
  {
    day: 4, week: 1, phase: 'Foundation',
    title: '프롬프트 엔지니어링 기초',
    objective: '효과적인 프롬프트로 Claude Code 응답 품질 극대화',
    category: 'Prompting', hours: '5h', difficulty: 2,
    topics: ['명확한 지시문 작성 원칙', '컨텍스트 제공의 중요성', '단계적 요청 vs 한번에 요청', '역할 부여 프롬프팅'],
    practice: ['같은 작업을 다양한 프롬프트로 실행 비교', '복잡한 작업 단계별 분할 실습', '역할 부여 프롬프트 작성', '프롬프트 템플릿 만들기'],
  },
  {
    day: 5, week: 1, phase: 'Foundation',
    title: 'Git 연동 & 버전 관리',
    objective: 'Claude Code와 Git을 연동한 안전한 코드 변경 관리',
    category: 'Git', hours: '5h', difficulty: 2,
    topics: ['Git 기초 명령어', 'Claude Code의 Git 인식', '자동 커밋 메시지 생성', '브랜치 관리와 PR 생성'],
    practice: ['Git 저장소 초기화 및 첫 커밋', 'Claude Code로 커밋 메시지 생성', '브랜치 생성 및 머지', 'PR 설명 자동 작성'],
  },
  {
    day: 6, week: 1, phase: 'Foundation',
    title: 'CLAUDE.md & 프로젝트 설정',
    objective: '프로젝트별 맞춤 지시사항으로 Claude Code 최적화',
    category: 'Config', hours: '5h', difficulty: 2,
    topics: ['CLAUDE.md 파일의 역할과 구조', '프로젝트 컨벤션 명시', '코딩 스타일 규칙 설정', '다중 CLAUDE.md 계층 구조'],
    practice: ['CLAUDE.md 파일 작성', '코딩 컨벤션 규칙 설정', '프로젝트별 CLAUDE.md 커스터마이징', '팀 CLAUDE.md 템플릿 작성'],
  },
  {
    day: 7, week: 1, phase: 'Foundation',
    title: '1주차 종합 복습 & 미니 프로젝트',
    objective: 'CLI 도구(할일 관리) 프로젝트를 처음부터 끝까지 완성',
    category: 'Review', hours: '6h', difficulty: 2,
    topics: ['1주차 핵심 개념 총정리', 'CLI 할일 관리 도구 프로젝트', 'Git 버전 관리 실전', '학습 노트 정리'],
    practice: ['CLI 할일 관리 도구 전체 구현', 'Git으로 버전 관리하며 개발', 'CLAUDE.md 설정 적용', '1주차 회고 작성'],
  },
  {
    day: 8, week: 2, phase: 'Core Skills',
    title: '코드 생성 - 함수 & 모듈',
    objective: '고품질 함수와 모듈을 생성하는 프롬프트 패턴 습득',
    category: 'Code Gen', hours: '5h', difficulty: 3,
    topics: ['함수 생성 최적 패턴', '입출력 명세 작성법', '에러 핸들링 포함 요청', 'TypeScript 타입 안전성'],
    practice: ['유틸리티 함수 라이브러리 생성', '입출력 타입이 명확한 함수 작성', '에러 핸들링 포함 함수 구현', 'JSDoc 주석 자동 생성'],
  },
  {
    day: 9, week: 2, phase: 'Core Skills',
    title: '코드 생성 - 클래스 & 패턴',
    objective: '객체지향 설계와 디자인 패턴을 Claude Code로 구현',
    category: 'Code Gen', hours: '5h', difficulty: 3,
    topics: ['클래스 설계 요청 방법', '디자인 패턴 구현', 'SOLID 원칙 적용', '인터페이스/추상 클래스'],
    practice: ['Singleton 패턴 구현', 'Observer 패턴 구현', 'Repository 패턴 적용', 'SOLID 원칙 준수 클래스 작성'],
  },
  {
    day: 10, week: 2, phase: 'Core Skills',
    title: '코드 리팩토링 & 최적화',
    objective: '기존 코드 분석 후 체계적 리팩토링 수행',
    category: 'Refactor', hours: '5h', difficulty: 3,
    topics: ['코드 스멜 탐지', '성능 최적화 분석', '중복 코드 제거', '가독성 개선 기법'],
    practice: ['레거시 코드 리팩토링', '중복 코드 추출 및 추상화', '복잡한 조건문 단순화', '성능 병목 개선'],
  },
  {
    day: 11, week: 2, phase: 'Core Skills',
    title: '테스트 코드 작성',
    objective: 'Jest/Vitest로 단위 테스트와 통합 테스트 자동 생성',
    category: 'Testing', hours: '5h', difficulty: 3,
    topics: ['테스트 프레임워크 활용', '엣지 케이스 커버리지', 'Mock 객체 활용', 'TDD 워크플로우'],
    practice: ['유틸리티 함수 테스트 작성', '비동기 함수 테스트', 'Mock을 활용한 API 테스트', 'TDD로 새 기능 구현'],
  },
  {
    day: 12, week: 2, phase: 'Core Skills',
    title: '디버깅 & 에러 해결',
    objective: '버그 진단부터 해결까지 체계적 디버깅 프로세스',
    category: 'Debug', hours: '5h', difficulty: 3,
    topics: ['에러 메시지 분석', '스택 트레이스 해석', '논리 오류 탐지', '비동기 코드 디버깅'],
    practice: ['에러 메시지 붙여넣기로 해결', '복잡한 버그 단계적 추적', '메모리 누수 탐지', '경쟁 조건 디버깅'],
  },
  {
    day: 13, week: 2, phase: 'Core Skills',
    title: 'API 개발 & REST 설계',
    objective: 'Express.js로 RESTful API 서버 설계 및 구현',
    category: 'Backend', hours: '6h', difficulty: 3,
    topics: ['REST API 설계 원칙', 'Express.js 서버 구축', '미들웨어와 라우팅', 'Swagger 문서화'],
    practice: ['Express 서버 생성', 'CRUD 엔드포인트 구현', '미들웨어 체인 구성', 'Swagger 문서 자동 생성'],
  },
  {
    day: 14, week: 2, phase: 'Core Skills',
    title: '2주차 종합 복습 & 프로젝트',
    objective: '메모 앱 API 백엔드를 완성하는 실전 프로젝트',
    category: 'Review', hours: '6h', difficulty: 3,
    topics: ['메모 앱 API 백엔드 완성', '전체 테스트 코드 작성', '코드 리뷰 및 리팩토링', 'Best Practice 정리'],
    practice: ['메모 앱 REST API 전체 구현', '테스트 커버리지 80% 이상', '코드 리뷰 체크리스트 적용', '2주차 회고 작성'],
  },
  {
    day: 15, week: 3, phase: 'Advanced',
    title: '멀티파일 프로젝트 관리',
    objective: '여러 파일에 걸친 대규모 변경을 효율적으로 수행',
    category: 'Advanced', hours: '5h', difficulty: 4,
    topics: ['여러 파일 동시 수정 전략', '프로젝트 전체 리팩토링', '의존성 그래프 이해', '컨텍스트 윈도우 최적화'],
    practice: ['멀티파일 리팩토링 실습', '모듈 간 의존성 정리', '대규모 이름 변경', '컨텍스트 관리 전략 실습'],
  },
  {
    day: 16, week: 3, phase: 'Advanced',
    title: 'MCP (Model Context Protocol) 서버',
    objective: 'MCP 서버로 Claude Code의 기능을 무한 확장',
    category: 'MCP', hours: '5h', difficulty: 4,
    topics: ['MCP 프로토콜 개요', '커스텀 도구 연결', '외부 데이터 소스 통합', 'MCP 서버 디버깅'],
    practice: ['MCP 서버 설치 및 연결', '커스텀 MCP 도구 작성', '외부 API 연동 MCP', 'MCP 서버 테스트'],
  },
  {
    day: 17, week: 3, phase: 'Advanced',
    title: 'Hooks & 자동화',
    objective: 'Hook 시스템으로 개발 워크플로우 완전 자동화',
    category: 'Automation', hours: '5h', difficulty: 4,
    topics: ['Hook 시스템 (PreTool, PostTool)', '자동 린팅/포매팅 Hook', '커스텀 검증 Hook', 'CI/CD 파이프라인 연동'],
    practice: ['PreTool Hook으로 자동 린팅', 'PostTool Hook으로 테스트 실행', '커스텀 검증 Hook 작성', 'Hook 체인 구성'],
  },
  {
    day: 18, week: 3, phase: 'Advanced',
    title: '데이터베이스 & ORM',
    objective: 'DB 스키마 설계부터 Prisma ORM 쿼리까지',
    category: 'Database', hours: '5h', difficulty: 4,
    topics: ['DB 스키마 설계', 'SQL 쿼리 생성 및 최적화', 'Prisma ORM 코드 생성', '마이그레이션 파일 작성'],
    practice: ['Prisma 스키마 설계', 'CRUD 쿼리 자동 생성', '복잡한 관계 모델링', '마이그레이션 실행'],
  },
  {
    day: 19, week: 3, phase: 'Advanced',
    title: '프론트엔드 개발 (React)',
    objective: 'React 컴포넌트와 Tailwind CSS로 모던 UI 구축',
    category: 'Frontend', hours: '6h', difficulty: 4,
    topics: ['컴포넌트 생성 패턴', '상태 관리 구현', 'Tailwind CSS 반응형 디자인', '접근성(a11y) 고려'],
    practice: ['React 컴포넌트 라이브러리 구축', '상태 관리 패턴 구현', '반응형 레이아웃 제작', '접근성 테스트'],
  },
  {
    day: 20, week: 3, phase: 'Advanced',
    title: '풀스택 프로젝트 구축',
    objective: 'React + Express + SQLite로 풀스택 앱 완성',
    category: 'Fullstack', hours: '6h', difficulty: 4,
    topics: ['풀스택 아키텍처 설계', 'API 연동 (fetch/axios)', 'JWT 인증/인가 시스템', '환경변수 관리 및 배포'],
    practice: ['풀스택 앱 아키텍처 설계', '프론트-백 API 연동', 'JWT 인증 구현', '배포 설정'],
  },
  {
    day: 21, week: 3, phase: 'Advanced',
    title: '3주차 종합 복습 & 프로젝트',
    objective: '블로그 플랫폼 풀스택 프로젝트 완성',
    category: 'Review', hours: '6h', difficulty: 4,
    topics: ['블로그 플랫폼 풀스택 프로젝트', 'MCP 서버 연동', 'Hook 기반 자동화 파이프라인', '3주차 학습 노트 정리'],
    practice: ['블로그 플랫폼 전체 구현', 'MCP 서버 연동 적용', 'Hook 자동화 설정', '3주차 회고 작성'],
  },
  {
    day: 22, week: 4, phase: 'Mastery',
    title: 'Claude Code Agent SDK',
    objective: '커스텀 에이전트 설계부터 멀티 에이전트 시스템까지',
    category: 'SDK', hours: '5h', difficulty: 5,
    topics: ['Agent SDK 아키텍처', '커스텀 에이전트 설계', '도구(Tool) 정의 및 등록', '멀티 에이전트 시스템'],
    practice: ['Agent SDK 설치 및 기본 에이전트 생성', '커스텀 도구 등록', '멀티 에이전트 워크플로우', '에이전트 테스트'],
  },
  {
    day: 23, week: 4, phase: 'Mastery',
    title: 'CI/CD & DevOps 통합',
    objective: 'GitHub Actions + Docker로 자동화 파이프라인 구축',
    category: 'DevOps', hours: '5h', difficulty: 5,
    topics: ['GitHub Actions 워크플로우', '자동 코드 리뷰 파이프라인', 'Docker 컨테이너 생성', '배포 자동화 스크립트'],
    practice: ['GitHub Actions 워크플로우 작성', '자동 테스트 파이프라인', 'Dockerfile 작성', 'Docker Compose 설정'],
  },
  {
    day: 24, week: 4, phase: 'Mastery',
    title: '보안 & 코드 품질',
    objective: 'OWASP 취약점 탐지와 ESLint 품질 관리',
    category: 'Security', hours: '5h', difficulty: 5,
    topics: ['OWASP Top 10 취약점 탐지', '코드 보안 리뷰', '의존성 취약점 분석', '코드 복잡도 분석'],
    practice: ['보안 취약점 스캔', '코드 보안 리뷰 실습', 'npm audit 분석', 'ESLint 규칙 최적화'],
  },
  {
    day: 25, week: 4, phase: 'Mastery',
    title: '레거시 코드 현대화',
    objective: 'JS에서 TS로, 콜백에서 async/await로 마이그레이션',
    category: 'Migration', hours: '5h', difficulty: 5,
    topics: ['JS → TS 마이그레이션', '콜백 → async/await 변환', 'CommonJS → ESM 변환', '기술 부채 관리'],
    practice: ['JavaScript 프로젝트 TypeScript 전환', '콜백 패턴 async/await 변환', 'ESM 마이그레이션', '기술 부채 분석 리포트'],
  },
  {
    day: 26, week: 4, phase: 'Mastery',
    title: '문서화 & 지식 관리',
    objective: 'README, API 문서, 아키텍처 다이어그램 자동 생성',
    category: 'Docs', hours: '5h', difficulty: 4,
    topics: ['README.md 자동 생성', 'API 문서화 (JSDoc)', 'Mermaid 다이어그램 생성', 'Changelog 자동화'],
    practice: ['프로젝트 README 자동 생성', 'JSDoc으로 API 문서화', 'Mermaid 아키텍처 다이어그램', 'CHANGELOG.md 자동 생성'],
  },
  {
    day: 27, week: 4, phase: 'Mastery',
    title: '성능 최적화 & 모니터링',
    objective: 'Lighthouse 점수 개선부터 Redis 캐싱까지',
    category: 'Performance', hours: '5h', difficulty: 5,
    topics: ['프론트엔드 성능 분석', '번들 사이즈 최적화', '캐싱 전략 수립', '모니터링 시스템 구축'],
    practice: ['Lighthouse 감사 실행', '번들 분석 및 최적화', '캐싱 레이어 구현', '성능 모니터링 설정'],
  },
  {
    day: 28, week: 4, phase: 'Mastery',
    title: '실전 워크플로우 최적화',
    objective: '프롬프트 라이브러리와 팀 협업 전략 수립',
    category: 'Workflow', hours: '5h', difficulty: 4,
    topics: ['프롬프트 라이브러리 구축', '일일 개발 루틴 설계', '팀 CLAUDE.md 템플릿', '비용 최적화 전략'],
    practice: ['프롬프트 라이브러리 구축', '개인 워크플로우 설계', '팀 템플릿 작성', '비용 분석 및 최적화'],
  },
  {
    day: 29, week: 4, phase: 'Mastery',
    title: '캡스톤 프로젝트 (1/2)',
    objective: 'SaaS 대시보드 앱 기획 및 핵심 기능 구현',
    category: 'Capstone', hours: '7h', difficulty: 5,
    topics: ['프로젝트 기획 및 설계', 'DB 스키마 + API 설계', '핵심 백엔드 API 구현', '프론트엔드 메인 페이지'],
    practice: ['프로젝트 스펙 문서 작성', 'DB 스키마 설계', 'API 엔드포인트 구현', '대시보드 UI 구현'],
  },
  {
    day: 30, week: 4, phase: 'Mastery',
    title: '캡스톤 프로젝트 (2/2) & 졸업',
    objective: '프로젝트 완성, 배포, 1개월 회고 & 향후 로드맵',
    category: 'Capstone', hours: '7h', difficulty: 5,
    topics: ['캡스톤 프로젝트 완성 및 배포', '전체 테스트 커버리지', 'README + API 문서 완성', '1개월 회고 & 성장 로드맵'],
    practice: ['프로젝트 최종 완성', '테스트 작성 및 실행', '문서화 완료', '30일 회고 작성'],
  },
];

export function getCurriculumByWeek(week: number): CurriculumDay[] {
  return curriculum.filter(d => d.week === week);
}

export function getCurriculumByDay(day: number): CurriculumDay | undefined {
  return curriculum.find(d => d.day === day);
}

export function getDayId(day: number): string {
  return `day-${String(day).padStart(2, '0')}`;
}
